<div class="container-fluid">
  <div class="container">
    <div class="row d-flex justify-content-center">
      <div class="col-md-8">

        <% if @membership_requests_received.any? %>
          <h2 class="text-center mt-4 mb-2rem">Membership Requests Received</h2>
          <div class="d-flex flex-column mt-4">
            <% @membership_requests_received.each do |membership_request| %>

              <div id="<%= membership_request.id %>"
                class="row row-membership-request d-flex mb-3">
                <div class="mr-2">
                  <%= gravatar_image_tag membership_request.user.email,
                    gravatar: { size: 85 } %>
                </div>
                <div class="d-flex flex-column justify-content-between
                  membership-request-info">
                  <h3 class="h6 font-weight-bold mt-1 mb-1">
                    <%= link_to membership_request.user.name,
                      user_path(membership_request.user) %>
                    <span class="font-weight-normal">in</span>
                    <span class="font-italic">
                      <%= link_to membership_request.group.name,
                        group_path(membership_request.group) %>
                    </span>
                  </h3>
                  <p class="mb-0">
                    <%= message_for(membership_request) %>
                  </p>
                  <div class="request-links">
                    <%= link_to "Accept",
                      group_members_path(
                        group_id: membership_request.group,
                        user_id:  membership_request.user,
                        request_id: membership_request),
                      method: :post %>
                    <span class="mx-1"> Â· </span>
                    <%= link_to "Decline",
                      group_membership_request_path(
                        membership_request.group,
                        membership_request),
                      method: :delete,
                      data: { confirm: "Are you sure to delete this person's request?" } %>
                  </div>
                </div>
              </div>

            <% end %>
          </div>
        <% end %>

        <% if @membership_requests_sent.any? %>
          <h2 class="text-center mt-4 mb-2rem">Membership Requests Sent</h2>
          <div class="d-flex flex-column mt-4">
            <% @membership_requests_sent.each do |membership_request| %>

              <div id="<%= membership_request.id %>"
                class="row row-membership-request d-flex mb-3">
                <div class="mr-2 membership-request-group-image"
                  style="
                  background-image: url(<%= membership_request.group.image_url %>)
                  ">
                </div>
                <div class="d-flex flex-column justify-content-between
                  membership-request-info">
                  <h3 class="h6 font-weight-bold mt-1 mb-1">
                    <%= link_to membership_request.group.name,
                      group_path(membership_request.group) %>
                  </h3>
                  <p class="mb-0">
                    <%= message_for(membership_request) %>
                  </p>
                  <div class="request-links">
                    <%= link_to "Cancel request",
                      group_membership_request_path(
                        membership_request.group,
                        membership_request),
                      method: :delete,
                      data: { confirm: "Are you sure to cancel your request?" } %>
                  </div>
                </div>
              </div>

            <% end %>
          </div>
        <% end %>

        <%= no_membership_requests_for(@membership_requests_received,
          @membership_requests_sent) %>

      </div>
    </div>
  </div>
</div>
